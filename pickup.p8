pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
function _init()
	plr={
	x=63,
	y=30,
	f=false,
	sp=1
	}

	anitimer=0
	ipickups()

cx=0
cy=0

end

function _update()
	if btn(⬇️) then	plr.y+=1 end
	if btn(⬆️) then plr.y-=1	end
	if btn(➡️) then plr.x+=1 end
	if btn(⬅️) then plr.x-=1 end
	
upickups()
end

function _draw()
	cls(5)
	map()
	spr(plr.sp,plr.x,plr.y,2,2)
	dpickups()
dcam()
end

-->8
function ipickups()
  pus = {
        {x=63, y=50, act=true},
        {x=80, y=70, act=true},
        {x=40, y=40, act=true}
    }
	tomato=0
end

function upickups()
	for pu in all(pus) do
		if pu.act then
			if abs(plr.x-pu.x)<=4 and abs(plr.y-pu.y)<=4 then
				pu.act=false
				tomato+=1
			end
		end	
	end
end

function dpickups()
	for pu in all(pus) do
		if pu.act then
			spr(4,pu.x,pu.y,2,2)
	end
end

print("tomato: "..tomato,cx,cy,7)
end
-->8
--dynamic camera--

function dcam()
	cx=plr.x+8-63
	cy=plr.x+8-63

	camera(cx,cy)
end
__gfx__
00000000000000000000000000000000000003000000000033333333000000000000000000000000000000000000000000000000000000000000000000000000
00000000055555500000000000000000000330000000000033333333000000000000000000000000000000000000000000000000000000000000000000000000
00700700077777700000000000000000008888000000000033333333000000000000000000000000000000000000000000000000000000000000000000000000
00077000071771700000000000000000088888800000000033333333000000000000000000000000000000000000000000000000000000000000000000000000
00077000077117700000000000000000088888800000000033333333000000000000000000000000000000000000000000000000000000000000000000000000
00700700077777700000000000000000088888800000000033333333000000000000000000000000000000000000000000000000000000000000000000000000
00000000077117700000000000000000008888000000000033333333000000000000000000000000000000000000000000000000000000000000000000000000
00000000007777000000000000000000000000000000000033333333000000000000000000000000000000000000000000000000000000000000000000000000
