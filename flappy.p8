pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
-- top right is 0,0
-- x gets bigger to right
-- y gets bigger to bottom 

function _init()
-- called when prog runs

	px=63
	py=63
	
	score = 0
	col=false
	
	state="game"

	flap = 0
	flap_amt=8
	gravity =2
	
	--sub function
	i_pipes()
	--set up pipes
	

end

function _update()
	if state=="game" then 
		update_game()
	end
end

function _draw()
	if state=="game" then
		draw_game()
	end
end

function update_game()

py=py+gravity --gravity
	if btnp(❎) then 
		flap = 20 
		end
		
	if flap>0 then
		flap=flap-5
	end

	py=py-flap
	
	if py>=120 then 
		py=120
	elseif py<=0 then
		py=0
	end
	
	u_pipes()
	u_score()
	collide()

end

function draw_game()
	--called 30x a sec after update
	cls()--clear screen
	map()--draw map
	
	d_pipes()
	
	spr(1,px,py)
	--sprite num, x, y 
	
	print("score:"..score)
	print(col)
end
-->8
--pipes--

function i_pipes()
--set up pipes
	
	gap=24
	
	p1bx=120--pipe1-x
	p1by=rnd(128)--pipe1-y
end

function u_pipes()
--update pipes
	p1bx-=1

	--loop pipe
	if p1bx <-16 then
		p1by=16+gap+rnd(128-32-gap) -- random height 
		p1bx=128 -- reset x
		end
end
	
function d_pipes()
--draw top pipe
	spr(7,p1bx,p1by-128-gap,2,16)

--draw bottom pipes
	spr(7,p1bx,p1by,2,16)
end
-->8
--score/collision--

function u_score()
	if p1bx==px then 
		score+=1
	end
end

function collide()
	if abs(px-p1bx)<4 then
		if py>p1by then
			col=true
		elseif py<p1by-gap then
			col=true
		else
			col=false
		end
	end
end
__gfx__
00000000cccccccc0000000000000000000000000000000000000000c11111111111111c00000000000000000000000000000000000000000000000000000000
00000000cccc111c0000000000000000000000000000000000000000133333bbbbb3b33100000000000000000000000000000000000000000000000000000000
007007001111999100000000000000000000000000000000000000001333333bbbbb333100000000000000000000000000000000000000000000000000000000
0007700019fff95a0000000000000000000000000000000000000000133333bbbbb3b33100000000000000000000000000000000000000000000000000000000
0007700019fff99100000000000000000000000000000000000000001333333bbbbb333100000000000000000000000000000000000000000000000000000000
00700700c19ff91c0000000000000000000000000000000000000000133333bbbbb3b33100000000000000000000000000000000000000000000000000000000
00000000cc1ff1cc00000000000000000000000000000000000000001333333bbbbb333100000000000000000000000000000000000000000000000000000000
00000000ccc1f1cc0000000000000000000000000000000000000000c11111111111111c00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000cccccccccccccccc00000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000cccccccccccccccc00000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000cccccccccccccccc00000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000cccccccccc7777cc00000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000ccccccccc777777c00000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000cccccccc7777777700000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000cccccccccccccccc00000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000cccccccccccccccc00000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000060000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc1333bbbb3331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000cc13333bb3b331cc00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000c11111111111111c00000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000133333bbbbb3b33100000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000001333333bbbbb333100000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000133333bbbbb3b33100000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000001333333bbbbb333100000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000133333bbbbb3b33100000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000001333333bbbbb333100000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000c11111111111111c00000000000000000000000000000000000000000000000000000000
__map__
2122212121212221212121212121212100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2121212121212121212121212121222100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2121222121212121212121212121212100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2121212121212121212122212121212100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2121212121212121212121212121212100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2121212122212121212121212121212100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2121222121212121212121212121222100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2121212121212121212121212121212100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2121212121212121212121212121212100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2121212121212121212221212121212100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2121212122212121212121212121212100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2121212121212121212121212221212100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2121212121212121212121212121212100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2121212121212121212121212121212100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2121212121212121212121212121212100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2121212121212121212121212121212100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2121212121212121212121212121212100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2121212121212121212121212121212100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2121212121212121212121212121212100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
