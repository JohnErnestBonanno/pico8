pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
function _init()
	col=false
	gravity=.5
	plr={
		x=30,
		y=30,
		dx=0,
		j=0,
		f=false,
		--gravity--
		g1x=2,
		g2x=6,
		gy=7
		--end gravity--
		}
end

--horizontal movement--
function _update()
	plr.dx=0
	if btn(⬅️) then
		plr.dx=-1
		plr.f=true
	elseif btn(➡️) then
		plr.dx=1
		plr.f=false
	end
	plr.x+=plr.dx
	
	-- remember current y pos
	local ly=plr.y
	
	--apply gravity
	plr.y+=gravity
	
	--pick sample points
	c1x=plr.x+plr.g1x
	c2x=plr.x+plr.g2x
	cy=plr.y+plr.gy
	
	--check if collision
	if mget(c1x/8,cy/8)==4 or
	 mget(c2x/8,cy/8)==4 then
	 	col=true
	 else
	 	col=false
	 end
	 
	--if col, move plr back up
	if col then
		plr.y=ly
	end
end
	

function _draw()
	cls()
	map()
	spr(2,plr.x,plr.y,1,1,plr.f)
	
	--add red to feet to 
	--test 4 collision
	pset(c1x,cy,8)
	pset(c2x,cy,8)
	
	

end		
__gfx__
000000000000000000000000ccccccccdddddddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000ccccccccddddd5dd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007000000000000000000cccccccc5dd5d5dd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770000000000005000500ccccccccdddddddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770000000000005000355ccccccccdddddddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007000000000005555550ccccccccd5d5dddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000500050ccccccccddd5d55d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000500050ccccccccdddddddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303040404030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303040404030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303040404030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303040404040300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
